<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="newm.dao.test.XjStudentDao">

  <!-- 以下配置是系统自动生成的 -->

  <!-- 显示的记录对应的列-->
  <sql id="columns" >
	  <![CDATA[  
	     xjstudent.id as id,xjstudent.stu_sequence as stuSequence,xjstudent.stu_no as stuNo,xjstudent.name as name,xjstudent.sex as sex,xjstudent.birthday as birthday,xjstudent.address as address,xjstudent.origin as origin,xjstudent.nation as nation,xjstudent.origin_addr as originAddr,xjstudent.blood_type as bloodType,xjstudent.politics as politics,xjstudent.ic_no as icNo,xjstudent.home_phone as homePhone,xjstudent.good_at as goodAt,xjstudent.identy_no as identyNo,xjstudent.home_macau as homeMacau,xjstudent.born_address as bornAddress,xjstudent.health as health,xjstudent.ic_status as icStatus,xjstudent.in_school_date as inSchoolDate,xjstudent.exchange_id as exchangeId,xjstudent.create_time as createTime,xjstudent.call_time as callTime,xjstudent.stu_type as stuType,xjstudent.seat_number as seatNumber,xjstudent.card_no as cardNo,xjstudent.ic_no_2 as icNo2,xjstudent.last_update_timestamp as lastUpdateTimestamp,xjstudent.sx_userid as sxUserid,xjstudent.sx_psw as sxPsw,xjstudent.comments as comments  ]]>
  </sql>
  
  
  <!-- 列表对应的查询条件组合  -->
  <sql id="queryOptions">
       <where>
            	  <if test="birthday1!=null"> AND xjstudent.birthday &gt; #{birthday1}</if><if test="birthday2!=null"> AND xjstudent.birthday &lt; #{birthday2}</if>
            	  <if test="createTime1!=null"> AND xjstudent.create_time &gt; #{createTime1}</if><if test="createTime2!=null"> AND xjstudent.create_time &lt; #{createTime2}</if>
            	  <if test="sex>=0"> AND xjstudent.sex = #{sex}</if>
            	  <if test="bornAddress!=null"> AND xjstudent.born_address like #{bornAddress}</if>
            	  <if test="icNo2!=null"> AND xjstudent.ic_no_2 like #{icNo2}</if>
            	  <if test="callTime>=0"> AND xjstudent.call_time = #{callTime}</if>
            	  <if test="stuSequence!=null"> AND xjstudent.stu_sequence like #{stuSequence}</if>
            	  <if test="inSchoolDate1!=null"> AND xjstudent.in_school_date &gt; #{inSchoolDate1}</if><if test="inSchoolDate2!=null"> AND xjstudent.in_school_date &lt; #{inSchoolDate2}</if>
            	  <if test="sxUserid!=null"> AND xjstudent.sx_userid like #{sxUserid}</if>
            	  <if test="homePhone!=null"> AND xjstudent.home_phone like #{homePhone}</if>
            	  <if test="cardNo!=null"> AND xjstudent.card_no like #{cardNo}</if>
            	  <if test="politics>=0"> AND xjstudent.politics = #{politics}</if>
            	  <if test="sxPsw!=null"> AND xjstudent.sx_psw like #{sxPsw}</if>
            	  <if test="name!=null"> AND xjstudent.name like #{name}</if>
            	  <if test="exchangeId!=null"> AND xjstudent.exchange_id like #{exchangeId}</if>
            	  <if test="icStatus>=0"> AND xjstudent.ic_status = #{icStatus}</if>
            	  <if test="homeMacau>=0"> AND xjstudent.home_macau = #{homeMacau}</if>
            	  <if test="origin!=null"> AND xjstudent.origin like #{origin}</if>
            	  <if test="stuType>=0"> AND xjstudent.stu_type = #{stuType}</if>
            	  <if test="icNo!=null"> AND xjstudent.ic_no like #{icNo}</if>
            	  <if test="health!=null"> AND xjstudent.health like #{health}</if>
            	  <if test="nation>=0"> AND xjstudent.nation = #{nation}</if>
            	  <if test="identyNo!=null"> AND xjstudent.identy_no like #{identyNo}</if>
            	  <if test="bloodType>=0"> AND xjstudent.blood_type = #{bloodType}</if>
            	  <if test="goodAt!=null"> AND xjstudent.good_at like #{goodAt}</if>
            	  <if test="address!=null"> AND xjstudent.address like #{address}</if>
            	  <if test="stuNo!=null"> AND xjstudent.stu_no like #{stuNo}</if>
            	  <if test="lastUpdateTimestamp1!=null"> AND xjstudent.last_update_timestamp &gt; #{lastUpdateTimestamp1}</if><if test="lastUpdateTimestamp2!=null"> AND xjstudent.last_update_timestamp &lt; #{lastUpdateTimestamp2}</if>
            	  <if test="seatNumber>=0"> AND xjstudent.seat_number = #{seatNumber}</if>
            	  <if test="comments!=null"> AND xjstudent.comments like #{comments}</if>
            	  <if test="originAddr!=null"> AND xjstudent.origin_addr like #{originAddr}</if> 
        </where> 
  </sql>



  <!-- 列表查询对应的排序选项  -->
  <sql id="orderControl">
       <if test="orderList!=null">
		  <trim prefix="ORDER BY" prefixOverrides=",">
				<foreach collection="orderList" item="order" open=""  separator="," close="" >
				   <choose> 
				       <when test="order.columnName=='birthday'"> xjstudent.birthday ${order.type} </when> 
				       <when test="order.columnName=='createTime'"> xjstudent.create_time ${order.type} </when> 
				       <when test="order.columnName=='sex'"> xjstudent.sex ${order.type} </when> 
				       <when test="order.columnName=='bornAddress'"> xjstudent.born_address ${order.type} </when> 
				       <when test="order.columnName=='icNo2'"> xjstudent.ic_no_2 ${order.type} </when> 
				       <when test="order.columnName=='callTime'"> xjstudent.call_time ${order.type} </when> 
				       <when test="order.columnName=='stuSequence'"> xjstudent.stu_sequence ${order.type} </when> 
				       <when test="order.columnName=='inSchoolDate'"> xjstudent.in_school_date ${order.type} </when> 
				       <when test="order.columnName=='sxUserid'"> xjstudent.sx_userid ${order.type} </when> 
				       <when test="order.columnName=='homePhone'"> xjstudent.home_phone ${order.type} </when> 
				       <when test="order.columnName=='cardNo'"> xjstudent.card_no ${order.type} </when> 
				       <when test="order.columnName=='politics'"> xjstudent.politics ${order.type} </when> 
				       <when test="order.columnName=='sxPsw'"> xjstudent.sx_psw ${order.type} </when> 
				       <when test="order.columnName=='name'"> xjstudent.name ${order.type} </when> 
				       <when test="order.columnName=='exchangeId'"> xjstudent.exchange_id ${order.type} </when> 
				       <when test="order.columnName=='icStatus'"> xjstudent.ic_status ${order.type} </when> 
				       <when test="order.columnName=='homeMacau'"> xjstudent.home_macau ${order.type} </when> 
				       <when test="order.columnName=='origin'"> xjstudent.origin ${order.type} </when> 
				       <when test="order.columnName=='stuType'"> xjstudent.stu_type ${order.type} </when> 
				       <when test="order.columnName=='icNo'"> xjstudent.ic_no ${order.type} </when> 
				       <when test="order.columnName=='health'"> xjstudent.health ${order.type} </when> 
				       <when test="order.columnName=='nation'"> xjstudent.nation ${order.type} </when> 
				       <when test="order.columnName=='identyNo'"> xjstudent.identy_no ${order.type} </when> 
				       <when test="order.columnName=='bloodType'"> xjstudent.blood_type ${order.type} </when> 
				       <when test="order.columnName=='goodAt'"> xjstudent.good_at ${order.type} </when> 
				       <when test="order.columnName=='address'"> xjstudent.address ${order.type} </when> 
				       <when test="order.columnName=='stuNo'"> xjstudent.stu_no ${order.type} </when> 
				       <when test="order.columnName=='lastUpdateTimestamp'"> xjstudent.last_update_timestamp ${order.type} </when> 
				       <when test="order.columnName=='seatNumber'"> xjstudent.seat_number ${order.type} </when> 
				       <when test="order.columnName=='comments'"> xjstudent.comments ${order.type} </when> 
				       <when test="order.columnName=='originAddr'"> xjstudent.origin_addr ${order.type} </when>
                       
				       <when test="order.columnName=='id'"> xjstudent.id  ${order.type}  </when> 
				       
				  </choose>
			 </foreach>
		 </trim>
	   </if>
  </sql>

 
 
  <!-- 列表查询对应的表关系SQL  -->
  <sql id="querySqlMain">
	 <![CDATA[   
	      ${daoAbb}_XJ_STUDENT  xjstudent  ]]>
  </sql>

  
   
   <!-- 根据ID查询记录 -->
   <select id="loadById" resultType="newm.dao.entity.test.XjStudentEntity">
	     SELECT  <include refid="columns"/>              
		       FROM <include refid="querySqlMain"/>
			   where xjstudent.ID=#{id}
   </select>
   


   <!-- 返回记录总数的语句 -->
   <select id="count" resultType="int">
         SELECT count(*) num   
			  FROM  <include refid="querySqlMain"/>
				    <include refid="queryOptions"/> 
   </select>
   
   
    <!-- 分页查询对应的记录 -->
   <select id="query" resultType="newm.dao.entity.test.XjStudentEntity">
	      SELECT <include refid="columns"/>   
		      FROM <include refid="querySqlMain"/>
		      <include refid="queryOptions"/>
		      <include refid="orderControl"/>
   </select>


   <!-- 新增记录 -->
   <insert id="insert" useGeneratedKeys="false" >
       
       <selectKey resultType="long" order="AFTER" keyProperty="id">
	       <![CDATA[    SELECT ${daoAbb}_XJ_STUDENT_SEQ.currval FROM  DUAL    ]]> 
	   </selectKey> 
             INSERT INTO ${daoAbb}_XJ_STUDENT (birthday,create_time,sex,born_address,ic_no_2,call_time,stu_sequence,in_school_date,sx_userid,home_phone,card_no,politics,sx_psw,name,exchange_id,ic_status,home_macau,origin,stu_type,ic_no,health,nation,identy_no,blood_type,good_at,address,stu_no,last_update_timestamp,seat_number,comments,origin_addr)
             VALUES(#{birthday,jdbcType=DATE},#{createTime,jdbcType=DATE},#{sex,jdbcType=NUMERIC},#{bornAddress,jdbcType=VARCHAR},#{icNo2,jdbcType=VARCHAR},#{callTime,jdbcType=NUMERIC},#{stuSequence,jdbcType=VARCHAR},#{inSchoolDate,jdbcType=DATE},#{sxUserid,jdbcType=VARCHAR},#{homePhone,jdbcType=VARCHAR},#{cardNo,jdbcType=VARCHAR},#{politics,jdbcType=NUMERIC},#{sxPsw,jdbcType=VARCHAR},#{name,jdbcType=VARCHAR},#{exchangeId,jdbcType=VARCHAR},#{icStatus,jdbcType=NUMERIC},#{homeMacau,jdbcType=NUMERIC},#{origin,jdbcType=VARCHAR},#{stuType,jdbcType=NUMERIC},#{icNo,jdbcType=VARCHAR},#{health,jdbcType=VARCHAR},#{nation,jdbcType=NUMERIC},#{identyNo,jdbcType=VARCHAR},#{bloodType,jdbcType=NUMERIC},#{goodAt,jdbcType=VARCHAR},#{address,jdbcType=VARCHAR},#{stuNo,jdbcType=VARCHAR},#{lastUpdateTimestamp,jdbcType=DATE},#{seatNumber,jdbcType=NUMERIC},#{comments,jdbcType=VARCHAR},#{originAddr,jdbcType=VARCHAR})  
            
   </insert>
   
   
   
   <!-- 更新记录 -->       
   <update id="update" >
           UPDATE ${daoAbb}_XJ_STUDENT 
           <set>
            <![CDATA[ 
                birthday=#{birthday,jdbcType=DATE},
                create_time=#{createTime,jdbcType=DATE},
                sex=#{sex,jdbcType=NUMERIC},
                born_address=#{bornAddress,jdbcType=VARCHAR},
                ic_no_2=#{icNo2,jdbcType=VARCHAR},
                call_time=#{callTime,jdbcType=NUMERIC},
                stu_sequence=#{stuSequence,jdbcType=VARCHAR},
                in_school_date=#{inSchoolDate,jdbcType=DATE},
                sx_userid=#{sxUserid,jdbcType=VARCHAR},
                home_phone=#{homePhone,jdbcType=VARCHAR},
                card_no=#{cardNo,jdbcType=VARCHAR},
                politics=#{politics,jdbcType=NUMERIC},
                sx_psw=#{sxPsw,jdbcType=VARCHAR},
                name=#{name,jdbcType=VARCHAR},
                exchange_id=#{exchangeId,jdbcType=VARCHAR},
                ic_status=#{icStatus,jdbcType=NUMERIC},
                home_macau=#{homeMacau,jdbcType=NUMERIC},
                origin=#{origin,jdbcType=VARCHAR},
                stu_type=#{stuType,jdbcType=NUMERIC},
                ic_no=#{icNo,jdbcType=VARCHAR},
                health=#{health,jdbcType=VARCHAR},
                nation=#{nation,jdbcType=NUMERIC},
                identy_no=#{identyNo,jdbcType=VARCHAR},
                blood_type=#{bloodType,jdbcType=NUMERIC},
                good_at=#{goodAt,jdbcType=VARCHAR},
                address=#{address,jdbcType=VARCHAR},
                stu_no=#{stuNo,jdbcType=VARCHAR},
                last_update_timestamp=#{lastUpdateTimestamp,jdbcType=DATE},
                seat_number=#{seatNumber,jdbcType=NUMERIC},
                comments=#{comments,jdbcType=VARCHAR},
                origin_addr=#{originAddr,jdbcType=VARCHAR},   ]]>
	   </set>
	       WHERE ID = #{id}
   </update> 
   


   
   <!-- 删除记录 -->
   <delete id="delete">
          DELETE FROM ${daoAbb}_XJ_STUDENT
          WHERE ID in    
          <foreach collection="array" item="id" open="("  separator="," close=")" >
                #{id}
          </foreach>
   </delete>
  
   
   <!-- 以下是自定义的配置信息 -->
   
   
   
   

</mapper>



